<p-toast></p-toast>
<p-breadcrumb [model]="items" [home]="home"></p-breadcrumb>
<div class="p-grid">
  <div class="p-col-12">
    <h2 class="p-text-center">{{accountName}}</h2>
    <p-progressBar
      mode="indeterminate"
      [style]="{ height: '5px' }"
      *ngIf="waiting"
    ></p-progressBar>
  </div>
  <div class="p-col-12 ">
    <p-card class="p-text-center">
      <p-chart type="pie" [data]="chartData" height= "350px"></p-chart>
    </p-card>
  </div>

  <div class="p-col-4">
      <p-card class="p-text-center">
        <ng-template pTemplate="header">
            {{ 'CreditorsAnalysis.amountTotalBalance' | translate}}
        </ng-template>
          <h1>{{totalAmount | currency:'EUR':'symbol' }}</h1>
          <h3>{{ 'CreditorsAnalysis.amountTotalCount' | translate}}</h3>
          <h1>  {{totalAmountCount}} </h1>
          <br>
          <p class="amountColor" (click)="setDetails(2)"><i class="pi pi-arrow-down"></i>{{ 'CreditorsAnalysis.showDetails' | translate}} </p>
      </p-card>
  </div>
  <div class="p-col-4">
    <p-card class="p-text-center">
      <ng-template pTemplate="header">
        {{ 'CreditorsAnalysis.textTotalBalance' | translate}}
      </ng-template>
        <h1>{{totalText | currency:'EUR':'symbol' }}</h1>
        <h3>{{ 'CreditorsAnalysis.textTotalCount' | translate}}</h3>
        <h1>  {{totalTextCount}}</h1>
        <br>
        <p class="textColor" (click)="setDetails(1)"><i class="pi pi-arrow-down"></i> {{ 'CreditorsAnalysis.showDetails' | translate}} </p>
    </p-card>
</div>
<div class="p-col-4">
    <p-card class="p-text-center">
      <ng-template pTemplate="header">
        {{ 'CreditorsAnalysis.paymentTotalBalance' | translate}}
      </ng-template>
        <h1>{{totalPayment | currency:'EUR':'symbol' }}</h1>
        <h3>{{ 'CreditorsAnalysis.paymentTotalCount' | translate}}</h3>
        <h1>  {{totalPaymentCount}}</h1>
        <br>
        <p class="paymentColor" (click)="setDetails(3)"><i class="pi pi-arrow-down"></i> {{ 'CreditorsAnalysis.showDetails' | translate}}  </p>

    </p-card>
</div>





</div>


<div class="p-grid">
    <div class="p-col-12">
        <app-text-analysis-details details="true" *ngIf="displayDetails==1"></app-text-analysis-details>
        <amount-analysis-details details="true" *ngIf="displayDetails==2"></amount-analysis-details>
        <app-payment-analysis-details details="true" *ngIf="displayDetails==3"></app-payment-analysis-details>
    </div>
</div>